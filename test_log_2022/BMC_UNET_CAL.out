2022-02-14 14:25:03,631 Namespace(volume_path='/itet-stor/arismu/bmicdatasets-originals/Originals/Challenge_Datasets/NCI_Prostate/', test_dataset='BMC', num_classes=3, max_iterations=6800, max_epochs=400, batch_size=16, img_size=256, is_savenii=True, n_skip=3, vit_name='R50-ViT-B_16', test_save_dir='../predictions', deterministic=1, base_lr=0.001, seed=1234, vit_patches_size=16, target_resolution=0.625, image_depth_tr=32, image_depth_ts=32, test_cv_fold_num=1, NORMALIZE=1, Dataset='BMC', z_spacing=1, is_pretrain=True, exp='TU_BMC256')
Namespace(volume_path='/itet-stor/arismu/bmicdatasets-originals/Originals/Challenge_Datasets/NCI_Prostate/', test_dataset='BMC', num_classes=3, max_iterations=6800, max_epochs=400, batch_size=16, img_size=256, is_savenii=True, n_skip=3, vit_name='R50-ViT-B_16', test_save_dir='../predictions', deterministic=1, base_lr=0.001, seed=1234, vit_patches_size=16, target_resolution=0.625, image_depth_tr=32, image_depth_ts=32, test_cv_fold_num=1, NORMALIZE=1, Dataset='BMC', z_spacing=1, is_pretrain=True, exp='TU_BMC256')
2022-02-14 14:25:03,632 TU_pretrain_R50-ViT-B_16_skip3_bs16_256
TU_pretrain_R50-ViT-B_16_skip3_bs16_256
2022-02-14 14:25:03,633 Reading BMC images...
Reading BMC images...
2022-02-14 14:25:03,633 Data root directory: /itet-stor/arismu/bmicdatasets-originals/Originals/Challenge_Datasets/NCI_Prostate/
Data root directory: /itet-stor/arismu/bmicdatasets-originals/Originals/Challenge_Datasets/NCI_Prostate/
2022-02-14 14:25:03,634 Already preprocessed this configuration. Loading now!
Already preprocessed this configuration. Loading now!
2022-02-14 14:25:05,856 ============================================================
============================================================
2022-02-14 14:25:05,856 Subject 1 out of 10: ProstateDx-01-0073
Subject 1 out of 10: ProstateDx-01-0073
2022-02-14 14:25:10,229 case 0 mean_dice 0.879273 mean_hd95 3.000000
Predsum: 28879
GtSum: 28987
Predsum: 28879
GtSum: 28987
Predsum: 28879
GtSum: 28987
case 0 mean_dice 0.879273 mean_hd95 3.000000
2022-02-14 14:25:10,265 ============================================================
============================================================
2022-02-14 14:25:10,265 Subject 2 out of 10: ProstateDx-01-0075
Subject 2 out of 10: ProstateDx-01-0075
2022-02-14 14:25:13,906 case 1 mean_dice 0.850425 mean_hd95 5.000000
Predsum: 59118
GtSum: 55547
Predsum: 59118
GtSum: 55547
Predsum: 59118
GtSum: 55547
case 1 mean_dice 0.850425 mean_hd95 5.000000
2022-02-14 14:25:13,934 ============================================================
============================================================
2022-02-14 14:25:13,935 Subject 3 out of 10: ProstateDx-01-0063
Subject 3 out of 10: ProstateDx-01-0063
2022-02-14 14:25:17,294 case 2 mean_dice 0.825889 mean_hd95 6.000000
Predsum: 40184
GtSum: 38197
Predsum: 40184
GtSum: 38197
Predsum: 40184
GtSum: 38197
case 2 mean_dice 0.825889 mean_hd95 6.000000
2022-02-14 14:25:17,321 ============================================================
============================================================
2022-02-14 14:25:17,321 Subject 4 out of 10: ProstateDx-01-0080
Subject 4 out of 10: ProstateDx-01-0080
2022-02-14 14:25:20,576 case 3 mean_dice 0.687953 mean_hd95 7.141428
Predsum: 21116
GtSum: 27553
Predsum: 21116
GtSum: 27553
Predsum: 21116
GtSum: 27553
case 3 mean_dice 0.687953 mean_hd95 7.141428
2022-02-14 14:25:20,604 ============================================================
============================================================
2022-02-14 14:25:20,604 Subject 5 out of 10: ProstateDx-01-0071
Subject 5 out of 10: ProstateDx-01-0071
2022-02-14 14:25:23,710 case 4 mean_dice 0.723778 mean_hd95 4.123106
Predsum: 18972
GtSum: 23483
Predsum: 18972
GtSum: 23483
Predsum: 18972
GtSum: 23483
case 4 mean_dice 0.723778 mean_hd95 4.123106
2022-02-14 14:25:23,738 ============================================================
============================================================
2022-02-14 14:25:23,738 Subject 6 out of 10: ProstateDx-01-0074
Subject 6 out of 10: ProstateDx-01-0074
2022-02-14 14:25:27,096 case 5 mean_dice 0.850547 mean_hd95 3.000000
Predsum: 22445
GtSum: 18317
Predsum: 22445
GtSum: 18317
Predsum: 22445
GtSum: 18317
case 5 mean_dice 0.850547 mean_hd95 3.000000
2022-02-14 14:25:27,124 ============================================================
============================================================
2022-02-14 14:25:27,125 Subject 8 out of 10: ProstateDx-01-0060
Subject 8 out of 10: ProstateDx-01-0060
2022-02-14 14:25:30,515 case 7 mean_dice 0.856281 mean_hd95 6.000000
Predsum: 88850
GtSum: 85560
Predsum: 88850
GtSum: 85560
Predsum: 88850
GtSum: 85560
case 7 mean_dice 0.856281 mean_hd95 6.000000
2022-02-14 14:25:30,544 ============================================================
============================================================
2022-02-14 14:25:30,544 Subject 9 out of 10: ProstateDx-01-0076
Subject 9 out of 10: ProstateDx-01-0076
2022-02-14 14:25:33,755 case 8 mean_dice 0.802051 mean_hd95 5.099020
Predsum: 27599
GtSum: 29148
Predsum: 27599
GtSum: 29148
Predsum: 27599
GtSum: 29148
case 8 mean_dice 0.802051 mean_hd95 5.099020
2022-02-14 14:25:33,782 ============================================================
============================================================
2022-02-14 14:25:33,782 Subject 10 out of 10: ProstateDx-01-0059
Subject 10 out of 10: ProstateDx-01-0059
2022-02-14 14:25:37,092 case 9 mean_dice 0.833472 mean_hd95 3.000000
Predsum: 25235
GtSum: 25423
Predsum: 25235
GtSum: 25423
Predsum: 25235
GtSum: 25423
case 9 mean_dice 0.833472 mean_hd95 3.000000
2022-02-14 14:27:23,465 Mean class 0 mean_dice 0.730967 mean_hd95 4.236355
Fraction of positives:
First bin: 0.0024882739031528186
Second bin: 0.3579348191286818
Third bin: 0.44161787746351117
Fourth bin: 0.8530936888682632
Trapezoidal area = 0.30683591949447525
Absolute difference: 0.19316408050552475
Simpson area = 0.3056686431157414
Absolute difference: 0.19433135688425862
Mean class 0 mean_dice 0.730967 mean_hd95 4.236355
2022-02-14 14:27:23,466 Mean class 1 mean_dice 0.730967 mean_hd95 4.236355
Mean class 1 mean_dice 0.730967 mean_hd95 4.236355
2022-02-14 14:27:23,466 Mean class 2 mean_dice 0.730967 mean_hd95 4.236355
Mean class 2 mean_dice 0.730967 mean_hd95 4.236355
2022-02-14 14:27:23,466 Testing performance in best val model: mean_dice : 0.730967 mean_hd95 : 4.236355
Testing performance in best val model: mean_dice : 0.730967 mean_hd95 : 4.236355
test.py successfully executed
